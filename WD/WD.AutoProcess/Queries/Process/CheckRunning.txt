SELECT UPPER(action) as process_code,sid,PROCESS.spid,SQL_TEXT
FROM v$session
LEFT OUTER JOIN
(
  SELECT * FROM v$process WHERE spid is not null
)PROCESS ON PROCESS.addr=paddr 
LEFT JOIN (SELECT DISK_READS,ELAPSED_TIME,sql_text,HASH_VALUE,ADDRESS FROM V_SQLAREA)SQLAREA
ON SQLAREA.HASH_VALUE  = SQL_HASH_VALUE AND  SQLAREA.ADDRESS=SQL_ADDRESS
WHERE UPPER(action)=UPPER(:PCode)
